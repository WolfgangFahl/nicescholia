{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"nicescholia API Documentation","text":""},{"location":"#nscholia.cmd","title":"<code>cmd</code>","text":"<p>Command line entry point</p>"},{"location":"#nscholia.cmd.ScholiaCmd","title":"<code>ScholiaCmd</code>","text":"<p>               Bases: <code>WebserverCmd</code></p> <p>Command Line Interface</p> Source code in <code>nscholia/cmd.py</code> <pre><code>class ScholiaCmd(WebserverCmd):\n    \"\"\"\n    Command Line Interface\n    \"\"\"\n\n    def getArgParser(self, description: str, version_msg) -&gt; ArgumentParser:\n        parser = super().getArgParser(description, version_msg)\n        return parser\n</code></pre>"},{"location":"#nscholia.dashboard","title":"<code>dashboard</code>","text":""},{"location":"#nscholia.dashboard.Dashboard","title":"<code>Dashboard</code>","text":"<p>UI for monitoring endpoints using ListOfDictsGrid.</p> Source code in <code>nscholia/dashboard.py</code> <pre><code>class Dashboard:\n    \"\"\"\n    UI for monitoring endpoints using ListOfDictsGrid.\n    \"\"\"\n\n    def __init__(self, solution):\n        self.solution = solution\n        self.webserver = solution.webserver\n        self.grid = None  # Will hold the ListOfDictsGrid instance\n\n        # Initialize the endpoints provider\n        self.endpoints_provider = Endpoints()\n\n    async def check_all(self):\n        \"\"\"Run checks for all endpoints in the grid\"\"\"\n        if not self.grid:\n            return\n\n        ui.notify(\"Checking endpoints...\")\n\n        # Access the List of Dicts (LOD) directly from the wrapper\n        rows = self.grid.lod\n\n        for row in rows:\n            # Visual update extracting checking state\n            row[\"status\"] = \"Checking...\"\n            row[\"color\"] = \"#f0f0f0\"  # Light gray\n\n            # Update the grid view to show 'Checking...' state immediately\n            self.grid.update()\n\n            # Async check\n            # row['url'] contains the SPARQL endpoint URL\n            try:\n                result = await Monitor.check(row[\"url\"])\n\n                # Update result\n                if result.is_online:\n                    row[\"status\"] = f\"Online ({result.status_code})\"\n                    row[\"latency\"] = result.latency\n                    row[\"color\"] = \"#d1fae5\"  # light green\n                else:\n                    row[\"status\"] = result.error or f\"Error {result.status_code}\"\n                    row[\"latency\"] = 0\n                    row[\"color\"] = \"#fee2e2\"  # light red\n            except Exception as ex:\n                row[\"status\"] = str(ex)\n                row[\"color\"] = \"#fee2e2\"\n\n        # Final update to show results\n        self.grid.update()\n        ui.notify(\"Status check complete\")\n\n    def setup_ui(self):\n        \"\"\"\n        Render the dashboard\n        \"\"\"\n        with ui.row().classes(\"w-full items-center mb-4\"):\n            ui.label(\"Endpoint Monitor\").classes(\"text-2xl font-bold\")\n            ui.button(\"Refresh\", icon=\"refresh\", on_click=self.check_all)\n\n        # 1. Fetch data\n        endpoints_data = self.endpoints_provider.get_endpoints()\n\n        rows = []\n        for key, ep in endpoints_data.items():\n            ep_url = getattr(ep, \"endpoint\", getattr(ep, \"url\", \"\"))\n            ep_name = getattr(ep, \"name\", key)\n            ep_group = getattr(ep, \"group\", \"General\")\n\n            link_html = Link.create(ep_url, \"Link\")\n\n            rows.append(\n                {\n                    \"group\": ep_group,\n                    \"name\": ep_name,\n                    \"url\": ep_url,\n                    \"link\": link_html,\n                    \"status\": \"Pending\",\n                    \"latency\": 0.0,\n                    \"color\": \"#ffffff\",\n                }\n            )\n\n        column_defs = [\n            {\"headerName\": \"Group\", \"field\": \"group\", \"rowGroup\": True, \"hide\": True},\n            {\n                \"headerName\": \"Service\",\n                \"field\": \"name\",\n                \"sortable\": True,\n                \"filter\": True,\n                \"flex\": 2,\n            },\n            {\n                \"headerName\": \"URL\",\n                \"field\": \"link\",\n                \"width\": 70,\n            },  # HTML rendered via html_columns\n            {\"headerName\": \"Status\", \"field\": \"status\", \"sortable\": True, \"flex\": 1},\n            {\n                \"headerName\": \"Latency (s)\",\n                \"field\": \"latency\",\n                \"sortable\": True,\n                \"width\": 120,\n                \"type\": \"numericColumn\",\n            },\n        ]\n\n        # Define styles and behavior in the options dictionary\n        grid_options = {\n            \"rowSelection\": \"single\",\n            \"animateRows\": True,\n            # This fixes the original error. We treat this as a standard AgGrid callback string.\n            \":getRowStyle\": \"\"\"(params) =&gt; {\n                return { background: params.data.color };\n            }\"\"\",\n        }\n\n        # Configure the ListOfDictsGrid\n        config = GridConfig(\n            column_defs=column_defs,\n            key_col=\"url\",  # Use URL as the unique key\n            options=grid_options,  # Pass the options mapping\n            html_columns=[\n                2\n            ],  # Index of the 'link' column (0-based index of visible cols)\n            auto_size_columns=True,\n            theme=\"balham\",  # Optional: 'ag-theme-balham' or 'material'\n        )\n\n        # Instantiate the grid wrapper\n        self.grid = ListOfDictsGrid(lod=rows, config=config)\n\n        # Trigger one check initially (optional)\n        ui.timer(0.5, self.check_all, once=True)\n</code></pre>"},{"location":"#nscholia.dashboard.Dashboard.check_all","title":"<code>check_all()</code>  <code>async</code>","text":"<p>Run checks for all endpoints in the grid</p> Source code in <code>nscholia/dashboard.py</code> <pre><code>async def check_all(self):\n    \"\"\"Run checks for all endpoints in the grid\"\"\"\n    if not self.grid:\n        return\n\n    ui.notify(\"Checking endpoints...\")\n\n    # Access the List of Dicts (LOD) directly from the wrapper\n    rows = self.grid.lod\n\n    for row in rows:\n        # Visual update extracting checking state\n        row[\"status\"] = \"Checking...\"\n        row[\"color\"] = \"#f0f0f0\"  # Light gray\n\n        # Update the grid view to show 'Checking...' state immediately\n        self.grid.update()\n\n        # Async check\n        # row['url'] contains the SPARQL endpoint URL\n        try:\n            result = await Monitor.check(row[\"url\"])\n\n            # Update result\n            if result.is_online:\n                row[\"status\"] = f\"Online ({result.status_code})\"\n                row[\"latency\"] = result.latency\n                row[\"color\"] = \"#d1fae5\"  # light green\n            else:\n                row[\"status\"] = result.error or f\"Error {result.status_code}\"\n                row[\"latency\"] = 0\n                row[\"color\"] = \"#fee2e2\"  # light red\n        except Exception as ex:\n            row[\"status\"] = str(ex)\n            row[\"color\"] = \"#fee2e2\"\n\n    # Final update to show results\n    self.grid.update()\n    ui.notify(\"Status check complete\")\n</code></pre>"},{"location":"#nscholia.dashboard.Dashboard.setup_ui","title":"<code>setup_ui()</code>","text":"<p>Render the dashboard</p> Source code in <code>nscholia/dashboard.py</code> <pre><code>def setup_ui(self):\n    \"\"\"\n    Render the dashboard\n    \"\"\"\n    with ui.row().classes(\"w-full items-center mb-4\"):\n        ui.label(\"Endpoint Monitor\").classes(\"text-2xl font-bold\")\n        ui.button(\"Refresh\", icon=\"refresh\", on_click=self.check_all)\n\n    # 1. Fetch data\n    endpoints_data = self.endpoints_provider.get_endpoints()\n\n    rows = []\n    for key, ep in endpoints_data.items():\n        ep_url = getattr(ep, \"endpoint\", getattr(ep, \"url\", \"\"))\n        ep_name = getattr(ep, \"name\", key)\n        ep_group = getattr(ep, \"group\", \"General\")\n\n        link_html = Link.create(ep_url, \"Link\")\n\n        rows.append(\n            {\n                \"group\": ep_group,\n                \"name\": ep_name,\n                \"url\": ep_url,\n                \"link\": link_html,\n                \"status\": \"Pending\",\n                \"latency\": 0.0,\n                \"color\": \"#ffffff\",\n            }\n        )\n\n    column_defs = [\n        {\"headerName\": \"Group\", \"field\": \"group\", \"rowGroup\": True, \"hide\": True},\n        {\n            \"headerName\": \"Service\",\n            \"field\": \"name\",\n            \"sortable\": True,\n            \"filter\": True,\n            \"flex\": 2,\n        },\n        {\n            \"headerName\": \"URL\",\n            \"field\": \"link\",\n            \"width\": 70,\n        },  # HTML rendered via html_columns\n        {\"headerName\": \"Status\", \"field\": \"status\", \"sortable\": True, \"flex\": 1},\n        {\n            \"headerName\": \"Latency (s)\",\n            \"field\": \"latency\",\n            \"sortable\": True,\n            \"width\": 120,\n            \"type\": \"numericColumn\",\n        },\n    ]\n\n    # Define styles and behavior in the options dictionary\n    grid_options = {\n        \"rowSelection\": \"single\",\n        \"animateRows\": True,\n        # This fixes the original error. We treat this as a standard AgGrid callback string.\n        \":getRowStyle\": \"\"\"(params) =&gt; {\n            return { background: params.data.color };\n        }\"\"\",\n    }\n\n    # Configure the ListOfDictsGrid\n    config = GridConfig(\n        column_defs=column_defs,\n        key_col=\"url\",  # Use URL as the unique key\n        options=grid_options,  # Pass the options mapping\n        html_columns=[\n            2\n        ],  # Index of the 'link' column (0-based index of visible cols)\n        auto_size_columns=True,\n        theme=\"balham\",  # Optional: 'ag-theme-balham' or 'material'\n    )\n\n    # Instantiate the grid wrapper\n    self.grid = ListOfDictsGrid(lod=rows, config=config)\n\n    # Trigger one check initially (optional)\n    ui.timer(0.5, self.check_all, once=True)\n</code></pre>"},{"location":"#nscholia.endpoints","title":"<code>endpoints</code>","text":""},{"location":"#nscholia.endpoints.Endpoints","title":"<code>Endpoints</code>","text":"Source code in <code>nscholia/endpoints.py</code> <pre><code>class Endpoints:\n    def __init__(self):\n        self.nqm = NamedQueryManager.from_samples()\n\n    def get_endpoints(self):\n        \"\"\"\n        list all endpoints\n        \"\"\"\n        endpoints = self.nqm.endpoints\n        return endpoints\n</code></pre>"},{"location":"#nscholia.endpoints.Endpoints.get_endpoints","title":"<code>get_endpoints()</code>","text":"<p>list all endpoints</p> Source code in <code>nscholia/endpoints.py</code> <pre><code>def get_endpoints(self):\n    \"\"\"\n    list all endpoints\n    \"\"\"\n    endpoints = self.nqm.endpoints\n    return endpoints\n</code></pre>"},{"location":"#nscholia.monitor","title":"<code>monitor</code>","text":"<p>Availability monitoring logic</p>"},{"location":"#nscholia.monitor.Monitor","title":"<code>Monitor</code>","text":"<p>Checks endpoint availability</p> Source code in <code>nscholia/monitor.py</code> <pre><code>class Monitor:\n    \"\"\"\n    Checks endpoint availability\n    \"\"\"\n\n    @staticmethod\n    async def check(url: str, timeout: float = 5.0) -&gt; StatusResult:\n        start_time = time.time()\n        try:\n            async with httpx.AsyncClient(follow_redirects=True) as client:\n                response = await client.get(url, timeout=timeout)\n                duration = time.time() - start_time\n                return StatusResult(\n                    endpoint_name=\"\",  # Filled by caller\n                    url=url,\n                    status_code=response.status_code,\n                    latency=round(duration, 3),\n                )\n        except httpx.TimeoutException:\n            return StatusResult(endpoint_name=\"\", url=url, error=\"Timeout\")\n        except Exception as e:\n            return StatusResult(endpoint_name=\"\", url=url, error=str(e))\n</code></pre>"},{"location":"#nscholia.version","title":"<code>version</code>","text":""},{"location":"#nscholia.version.Version","title":"<code>Version</code>  <code>dataclass</code>","text":"<p>Version handling for nicescholia</p> Source code in <code>nscholia/version.py</code> <pre><code>@dataclass\nclass Version:\n    \"\"\"\n    Version handling for nicescholia\n    \"\"\"\n    name = \"nicescholia\"\n    version = nscholia.__version__\n    date = \"2025-12-17\"\n    updated = \"2025-12-17\"\n    description = \"nicegui based scholia\"\n    authors = \"Wolfgang Fahl\"\n    doc_url=\"https://wiki.bitplan.com/index.php/nicescholia\"\n    chat_url = \"https://github.com/WolfgangFahl/nicescholia/discussions\"\n    cm_url = \"https://github.com/WolfgangFahl/nicescholia\"\n    license = \"\"\"Copyright 2025 contributors. All rights reserved.\n\n  Licensed under the Apache License 2.0\n  http://www.apache.org/licenses/LICENSE-2.0\n\n  Distributed on an \"AS IS\" basis without warranties\n  or conditions of any kind, either express or implied.\"\"\"\n\n    longDescription = f\"\"\"{name} version {version}\n{description}\n\n  Created by {authors} on {date} last updated {updated}\"\"\"\n</code></pre>"},{"location":"#nscholia.webserver","title":"<code>webserver</code>","text":"<p>Webserver definition</p>"},{"location":"#nscholia.webserver.ScholiaSolution","title":"<code>ScholiaSolution</code>","text":"<p>               Bases: <code>InputWebSolution</code></p> <p>Handling specific page requests for a client session.</p> Source code in <code>nscholia/webserver.py</code> <pre><code>class ScholiaSolution(InputWebSolution):\n    \"\"\"\n    Handling specific page requests for a client session.\n    \"\"\"\n\n    def __init__(self, webserver, client: client):\n        super().__init__(webserver, client)\n\n    def setup_menu(self, detailed: bool = True):\n        \"\"\"\n        Configure the navigation menu\n        \"\"\"\n        # Call safe setup from parent\n        super().setup_menu(detailed=detailed)\n\n        # Add custom links\n        with self.header:\n            self.link_button(\"Dashboard\", \"/\", \"dashboard\")\n            # Example of external link\n            self.link_button(\n                \"GitHub\",\n                \"https://github.com/WolfgangFahl/nicescholia\",\n                \"code\",\n                new_tab=True,\n            )\n\n    async def home(self):\n        \"\"\"\n        The main page content\n        \"\"\"\n\n        def show():\n            # Instantiate the View Component\n            self.dashboard = Dashboard(self)\n            self.dashboard.setup_ui()\n\n        await self.setup_content_div(show)\n</code></pre>"},{"location":"#nscholia.webserver.ScholiaSolution.home","title":"<code>home()</code>  <code>async</code>","text":"<p>The main page content</p> Source code in <code>nscholia/webserver.py</code> <pre><code>async def home(self):\n    \"\"\"\n    The main page content\n    \"\"\"\n\n    def show():\n        # Instantiate the View Component\n        self.dashboard = Dashboard(self)\n        self.dashboard.setup_ui()\n\n    await self.setup_content_div(show)\n</code></pre>"},{"location":"#nscholia.webserver.ScholiaSolution.setup_menu","title":"<code>setup_menu(detailed=True)</code>","text":"<p>Configure the navigation menu</p> Source code in <code>nscholia/webserver.py</code> <pre><code>def setup_menu(self, detailed: bool = True):\n    \"\"\"\n    Configure the navigation menu\n    \"\"\"\n    # Call safe setup from parent\n    super().setup_menu(detailed=detailed)\n\n    # Add custom links\n    with self.header:\n        self.link_button(\"Dashboard\", \"/\", \"dashboard\")\n        # Example of external link\n        self.link_button(\n            \"GitHub\",\n            \"https://github.com/WolfgangFahl/nicescholia\",\n            \"code\",\n            new_tab=True,\n        )\n</code></pre>"},{"location":"#nscholia.webserver.ScholiaWebserver","title":"<code>ScholiaWebserver</code>","text":"<p>               Bases: <code>InputWebserver</code></p> <p>The main webserver class</p> Source code in <code>nscholia/webserver.py</code> <pre><code>class ScholiaWebserver(InputWebserver):\n    \"\"\"\n    The main webserver class\n    \"\"\"\n\n    @classmethod\n    def get_config(cls) -&gt; WebserverConfig:\n        config = WebserverConfig(\n            short_name=\"nicescholia\",\n            timeout=6.0,\n            copy_right=\"(c) 2025 Wolfgang Fahl\",\n            version=Version(),\n            default_port=9000,\n        )\n        server_config = WebserverConfig.get(config)\n        server_config.solution_class = ScholiaSolution\n        return server_config\n\n    def __init__(self):\n        super().__init__(config=ScholiaWebserver.get_config())\n</code></pre>"}]}